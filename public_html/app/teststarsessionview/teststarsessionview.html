<section id="intro" class="intro" cg-busy="{promise:promise,templateUrl:templateUrl,message:message,backdrop:backdrop,delay:delay,minDuration:minDuration}" initmainsection>
	<row>
		<newleftpane leftpanetemplatefullpath="./teststarsessionview/teststarsession.template.html"></newleftpane>
		<div id="maincolumnright" class="col-xs-7 col-sm-10 maincolumnright">
			<div id="mainrowright" class="row mainrowright">
				<div class="grid">
					<displayerror></displayerror>
					<displaymaintitle maintitle="currentTestsession.id + ' - ' + currentTestsession.name"
						defaulttitle="translationObj.main.formtitledetails" object="currentTestsession">
					</displaymaintitle>

					<main-new-button new-callback="createNew()" ng-if="userInfo.privileges.testsession_create==true"></main-new-button>
					<main-save-button save-callback="saveToDB()" is-form-pristine="(isFormPristine && !detailsForm.$dirty && !testsessionForm.$dirty && !summaryForm.$dirty) || currentTestsession.islock" ng-if="userInfo.privileges.testsession_update==true"></main-save-button>
					<main-delete-button delete-callback="deleteFromDB()" ng-if="userInfo.privileges.testsession_delete==true" is-form-pristine="currentTestsession.islock"></main-delete-button>
					<button class="btn btn-primary" ng-click="copySession()" ng-disabled="currentTestsession==null" ng-if="userInfo.privileges.testsession_create==true">{{translationObj.main.buttontitlecopysession}}</button>
					<button class="btn btn-primary" ng-click="fixMemberTests()" ng-disabled="currentTestsession==null" ng-if="userInfo.privileges.testsession_create==true">{{translationObj.main.buttontitlefixmembertests}}</button>
					<button class="btn btn-primary" ng-click="lockSession()" ng-disabled="currentTestsession==null" ng-if="userInfo.privileges.testsession_create==true && currentTestsession!=null && currentTestsession.islock==0">{{translationObj.main.buttontitlelocksession}}</button>
					<button class="btn btn-primary" ng-click="unlockSession()" ng-disabled="currentTestsession==null" ng-if="userInfo.privileges.testsession_create==true && currentTestsession!=null && currentTestsession.islock==1">{{translationObj.main.buttontitleunlocksession}}</button>

					<span class="dropdown">
						<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" ng-disabled="currentTestsession==null">
							{{translationObj.main.buttonreports}}<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li class="pointerlist"><a ng-click="this.printReport('teststarsessiontestsheets')">{{translationObj.main.reporttestsessionsheets}}</a></li>
						</ul>
					</span>

					<div id="maintab" class="maintab">
						<ul id="maintabheader" class="nav nav-tabs">
							<li class="active pointerlist"><a data-toggle="tab" data-target="#info">{{translationObj.main.tabtitlesession}}</a></li>
							<li class="pointerlist"><a data-toggle="tab" data-target="#charge">{{translationObj.main.tabtitlecharges}}</a></li>
							<li class="pointerlist"><a data-toggle="tab" data-target="#schedule">{{translationObj.main.tabtitleschedule}}</a></li>
							<li class="pointerlist"><a data-toggle="tab" data-target="#summary">{{translationObj.main.tabtitlesummary}}</a></li>
						</ul>

						<div id="maintabcontent" class="tab-content maintabcontent">
							<div id="info" class="tab-pane fade in active maintabpane">
								<form class="form-horizontal well intabsingleformnox" role="form" name="testsessionForm" ng-show="currentTestsession">
									<div ng-include="'teststarsessionview/teststarsession.html'"></div>
								</form>
							</div>

							<div id="charge" class="tab-pane fade maintabpane">
								<form class="form-horizontal well intabsingleformnox" role="form" name="chargesForm" ng-show="currentTestsession">
									<div ng-include="'teststarsessionview/charge.form.html'"></div>
								</form>
							</div>

							<div id="schedule" class="tab-pane fade maintabpane">
								<form class="form-horizontal well intabsingleformnox" role="form" name="scheduleForm" ng-show="currentTestsession">
									<div ng-include="'teststarsessionview/schedule.form.html'"></div>
								</form>
							</div>

							<div id="summary" class="tab-pane fade maintabpane">
								<form class="form-horizontal well intabsingleformnox" role="form" name="summaryForm" ng-show="currentTestsession">
									<div ng-include="'teststarsessionview/summary.form.html'"></div>
								</form>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</row>
</section>